(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{25:function(e,t,n){e.exports={arrow:"ScrollTopArrow_arrow__1AwV-"}},33:function(e,t,n){},34:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(10),c=n.n(a),i=(n(30),n(12)),s=n.n(i),l=n(7),u=n(22),d=n(3),h=n(4),p=n(6),f=n(5),b=n(23),j=(n(33),n(34),n(1)),m=function(e){var t=e.formValue,n=e.onInputHandler;return Object(j.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:n,value:t})},g=(n(36),function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.onInputHandler=function(t){var n=t.target;e.setState({query:n.value})},e.onSubmitHandler=function(t){t.preventDefault(),e.props.onSubmit(e.state.query)},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:this.onSubmitHandler,children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"material-icons",children:"search"})}),Object(j.jsx)(m,{formValue:this.state.query,onInputHandler:this.onInputHandler})]})})}}]),n}(o.Component)),O=g;n(37);function y(e){var t=e.onClick;return Object(j.jsx)("button",{className:"Button",type:"button",onClick:t,children:"Load more"})}n(38),n(39);var v=function(e){var t=e.url,n=e.description,o=e.onClick;return Object(j.jsx)("li",{onClick:o,className:"gallery-item",children:Object(j.jsx)("img",{src:t,alt:n,className:"ImageGalleryItem-image"})})},w=v;v.defaultProps={description:"photo preview"};var x=function(e){var t=e.photoData,n=e.children,o=e.setLargeImage;return Object(j.jsxs)("ul",{className:"ImageGallery",children:[t.map((function(e){return Object(j.jsx)(w,{onClick:function(){return o(e.largeImageURL,e.tags)},url:e.webformatURL,description:e.tags},e.id)})),n]})},k=(n(40),n(24));function S(){return Object(j.jsx)(k.a,{foregroundColor:"#cac0c0",viewBox:"0 0 720 520",className:"LoaderPart",speed:1,children:Object(j.jsx)("rect",{x:"0",y:"0",rx:"2",ry:"2",width:"720",height:"520"})})}var C=function(){var e=Object(l.a)(Array(12).keys());return Object(j.jsx)(j.Fragment,{children:e.map((function(e){return Object(j.jsx)(S,{},e)}))})},M=(n(41),document.querySelector("#root-modal")),L=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).closeKeydownModal=function(t){return"Escape"===t.code&&e.props.onClick()},e.closeOverlayModal=function(t){return t.target===t.currentTarget&&e.props.onClick()},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closeKeydownModal)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeKeydownModal)}},{key:"render",value:function(){return Object(a.createPortal)(Object(j.jsx)("div",{onClick:this.closeOverlayModal,className:"Overlay",children:Object(j.jsx)("div",{className:"Modal",children:this.props.children})}),M)}}]),n}(o.Component),I=n(25),N=n.n(I);function q(e){var t=e.color,n=e.bgColor,o=e.borderRadius;return Object(j.jsx)("div",{onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})},className:N.a.arrow,style:{backgroundColor:n,borderRadius:o},children:Object(j.jsx)("span",{style:{color:t,fontSize:"42px"},className:"material-icons",children:"expand_less"})})}q.defaultProps={color:"#fff",bgColor:"#333",borderRadius:"50%"};n(42),n(43),n(44);var D=n(13),B=n.n(D);B.a.defaults.baseURL="https://pixabay.com/api";var R=function(e,t){return B.a.get("/?image_type=photo&key=".concat("23244571-e0b1f6062f2659059b6ad356b","&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=12"))},A=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,photoData:[],page:1,showLoadMoreButton:!1,query:"",error:"",largeImage:"",showModal:!1,description:""},e.onSubmit=function(t){e.setState({query:t,error:"",page:1,photoData:[]})},e.onClickLoadMore=function(){e.setState((function(e){return{page:e.page+1}}))},e.findImages=Object(u.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state.page,e.setState({isLoading:!0,showLoadMoreButton:!1}),R(e.state.query,n).then((function(t){var n=t.data;e.setState((function(e){return{photoData:[].concat(Object(l.a)(e.photoData),Object(l.a)(n.hits)),showLoadMoreButton:12===n.hits.length&&!0,error:0===n.hits.length&&"Opps, nothing found"}}))})).catch((function(){return e.setState({error:"Oops, something went wrong"})})).finally((function(){return e.setState({isLoading:!1})}));case 3:case"end":return t.stop()}}),t)}))),e.setLargeImage=function(t,n){e.toggleModal(),e.setState({largeImage:t,description:n})},e.toggleModal=function(){return e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){Object(b.info)({text:"Type your query and find photos"})}},{key:"componentDidUpdate",value:function(e,t){this.state.query!==t.query&&this.findImages().then((function(){return window.scrollTo(0,0)})),this.state.page!==t.page&&1!==this.state.page&&this.findImages().then((function(){return window.scrollBy({top:260,behavior:"smooth"})}))}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.photoData,o=e.showLoadMoreButton,r=e.showModal,a=e.isLoading,c=e.largeImage,i=e.description;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O,{onSubmit:this.onSubmit}),t&&Object(j.jsx)("h2",{className:"errorMesage",children:t}),!t&&Object(j.jsx)(x,{setLargeImage:this.setLargeImage,photoData:n,children:a&&Object(j.jsx)(C,{})}),o&&Object(j.jsx)(y,{onClick:this.onClickLoadMore}),r&&Object(j.jsx)(L,{onClick:this.toggleModal,children:Object(j.jsx)("img",{src:c,alt:i})}),Object(j.jsx)(q,{borderRadius:"50%",color:"white",bgColor:"#3f51b5"})]})}}]),n}(o.Component),F=A;c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(F,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.043eacc9.chunk.js.map