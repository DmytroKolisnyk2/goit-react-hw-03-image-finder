{"version":3,"sources":["components/SearchForm/SearchForm.jsx","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/LoaderPart/LoaderPart.jsx","components/Loader/Loader.jsx","services/apiService.js","components/Modal/Modal.jsx","App.jsx","index.js"],"names":["SearchForm","formValue","onInputHandler","className","type","autoComplete","autoFocus","placeholder","onChange","value","Searchbar","state","query","target","setState","onSubmitHandler","event","preventDefault","props","onSubmit","this","Component","Button","onClick","ImageGalleryItem","url","description","src","alt","defaultProps","ImageGallery","photoData","children","setLargeImage","map","item","largeImageURL","webformatURL","tags","id","LoaderPart","foregroundColor","viewBox","speed","x","y","rx","ry","width","height","Loader","arrayOfLoaderParts","Array","keys","axios","defaults","baseURL","apiRequest","page","get","modalRef","document","querySelector","Modal","closeKeydownModal","code","closeOverlayModal","currentTarget","window","addEventListener","removeEventListener","createPortal","App","isLoading","showLoadMoreButton","error","largeImage","showModal","onClickLoadMore","prevState","findImages","then","data","hits","length","scrollBy","top","behavior","catch","finally","imgUrl","toggleModal","info","text","prevProps","scrollTo","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1efd4c4b.chunk.js","sourcesContent":["import React from 'react';\nimport './SearchForm.scss';\nimport PropTypes from 'prop-types';\n\nconst SearchForm = ({formValue, onInputHandler}) => {\n  return (\n    <input\n      className=\"SearchForm-input\"\n      type=\"text\"\n      autoComplete=\"off\"\n      autoFocus\n      placeholder=\"Search images and photos\"\n      onChange={onInputHandler}\n      value={formValue}\n    />\n  );\n}\n\nexport default SearchForm;\n\nSearchForm.propTypes = {\n  formValue: PropTypes.string.isRequired,\n  onInputHandler: PropTypes.func.isRequired,\n}","import React, { Component } from \"react\";\nimport \"./Searchbar.scss\";\nimport SearchForm from \"../SearchForm/SearchForm\";\nimport \"material-design-icons/iconfont/material-icons.css\";\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n\n  onInputHandler = ({ target }) => {\n    this.setState({ query: target.value });\n  };\n\n  onSubmitHandler = (event) => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.query);\n  };\n  \n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.onSubmitHandler}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"material-icons\">search</span>\n          </button>\n          <SearchForm formValue={this.state.query} onInputHandler={this.onInputHandler} />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired\n}","import React from \"react\";\nimport \"./Button.scss\";\nimport PropTypes from \"prop-types\";\n\nexport default function Button({ onClick }) {\n  return (\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport \"./ImageGalleryItem.scss\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ url, description, onClick }) => {\n  return (\n    <li onClick={onClick} className=\"gallery-item\">\n      <img src={url} alt={description} className=\"ImageGalleryItem-image\" />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.defaultProps = {\n  description: \"photo preview\",\n};\n\nImageGalleryItem.propTypes = {\n  url: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport \"./ImageGallery.scss\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGallery = ({ photoData, children, setLargeImage }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {photoData.map((item) => (\n        <ImageGalleryItem\n          onClick={() => setLargeImage(item.largeImageURL)}\n          key={item.id}\n          url={item.webformatURL}\n          description={item.tags}\n        />\n      ))}\n      {children}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  photoData: PropTypes.array.isRequired,\n  setLargeImage: PropTypes.func.isRequired,\n};\n","import React from 'react'\nimport ContentLoader from \"react-content-loader\";\n\n\nexport default function LoaderPart() {\n  return (\n    <ContentLoader\n      foregroundColor=\"#cac0c0\"\n      viewBox=\"0 0 720 520\"\n      className=\"LoaderPart\"\n      speed={1}\n    >\n      <rect x=\"0\" y=\"0\" rx=\"2\" ry=\"2\" width=\"720\" height=\"520\" />\n    </ContentLoader>\n  );\n}\n","import React from \"react\";\nimport \"./Loader.scss\";\nimport LoaderPart from \"./LoaderPart/LoaderPart\";\n\nconst Loader = () => {\n  const arrayOfLoaderParts = [...Array(12).keys()];\n  return (\n    <>\n      {arrayOfLoaderParts.map((item) => (\n        <LoaderPart key={item} />\n      ))}\n    </>\n  );\n};\n\nexport default Loader;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\nconst key = '23244571-e0b1f6062f2659059b6ad356b';\n\nexport const apiRequest = (query, page) => {\n  return axios.get(`/?image_type=photo&key=${key}&orientation=horizontal&q=${query}&page=${page}&per_page=12`);\n};","import React, { Component } from \"react\";\nimport \"./Modal.scss\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nconst modalRef = document.querySelector(\"#root-modal\");\n\nexport default class Modal extends Component {\n  closeKeydownModal = (event) => event.code === \"Escape\" && this.props.onClick();\n  closeOverlayModal = (event) => event.target === event.currentTarget && this.props.onClick();\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.closeKeydownModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.closeKeydownModal);\n  }\n\n  render() {\n    return createPortal(\n      <div onClick={this.closeOverlayModal} className=\"Overlay\">\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRef\n    );\n  }\n}\n\nModal.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import React, { Component } from \"react\";\nimport \"./styles/App.scss\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport Button from \"./components/Button/Button\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Loader from \"./components/Loader/Loader\";\nimport { apiRequest } from \"./services/apiService\";\nimport Modal from \"./components/Modal/Modal\";\n\nimport { info } from \"@pnotify/core\";\nimport \"@pnotify/core/dist/PNotify.css\";\nimport \"@pnotify/core/dist/BrightTheme.css\";\n\nclass App extends Component {\n  state = {\n    isLoading: false,\n    photoData: [],\n    page: 1,\n    showLoadMoreButton: false,\n    query: \"\",\n    error: \"\",\n    largeImage: \"\",\n    showModal: false,\n  };\n\n  componentDidMount() {\n    info({ text: \"Type your query and find photos\" });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.query !== prevState.query) {\n      this.findImages();\n      window.scrollTo(0, 0);\n    }\n    if (this.state.page !== prevState.page && this.state !== 1) {\n      this.findImages();\n    }\n  }\n\n  onSubmit = (query) => {\n    this.setState({ query: query, error: \"\", page: 1, photoData: [] });\n  };\n\n  onClickLoadMore = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  findImages = () => {\n    const { page } = this.state;\n    this.setState({ isLoading: true, showLoadMoreButton: false });\n\n    apiRequest(this.state.query, page)\n      .then(({ data }) => {\n        this.setState((prevState) => ({\n          photoData: [...prevState.photoData, ...data.hits],\n          showLoadMoreButton: data.hits.length === 12 && true,\n          error: data.hits.length === 0 && \"Opps, nothing found\",\n        }));\n        window.scrollBy({\n          top: 260,\n          behavior: \"smooth\",\n        });\n      })\n      .catch(() => this.setState({ error: \"Oops, something went wrong\" }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  setLargeImage = (imgUrl) => {\n    this.toggleModal();\n    this.setState({ largeImage: imgUrl });\n  };\n\n  toggleModal = () => this.setState((prevState) => ({ showModal: !prevState.showModal }));\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.onSubmit} />\n        {this.state.error && <h2 className=\"errorMesage\">{this.state.error}</h2>}\n        {!this.state.error && (\n          <ImageGallery setLargeImage={this.setLargeImage} photoData={this.state.photoData}>\n            {this.state.isLoading && <Loader />}\n          </ImageGallery>\n        )}\n        {this.state.showLoadMoreButton && <Button onClick={this.onClickLoadMore} />}\n        {this.state.showModal && (\n          <Modal onClick={this.toggleModal}>\n            <img src={this.state.largeImage} alt=\"large image\" />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport App from './App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}